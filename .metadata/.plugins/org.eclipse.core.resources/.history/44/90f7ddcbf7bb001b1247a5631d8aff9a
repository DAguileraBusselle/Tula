package control;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.concurrent.TimeUnit;

import javax.swing.JButton;

import view.VAmongus;
import view.VPTula;

public class TulaListener implements ActionListener {


	private VPTula vpt;
	private VAmongus va;
	
	public TulaListener(VPTula vpt, VAmongus va) {
		
		this.vpt = vpt;
		this.va = va;
	}
	
	
	@Override
	public void actionPerformed(ActionEvent ev) {
		if (ev.getSource() instanceof JButton) {
			if (ev.getActionCommand().equals(VPTula.BTN_EVALUAR)) {
				if (vpt.getLongitud() == 0) {
					vpt.mostrarMsjInfo("No hay tula");
				} else if (vpt.getLongitud() == 147) {
					vpt.mostrarMsjInfo("...");
					vpt.mostrarMsjInfo("no");
					System.exit(0);
				} else if (vpt.getLongitud() == 69) {
					vpt.dispose();
					va.hacerVisible();
				} else if (vpt.getLongitud() == 666) { 
					int cont = 0;
					while (cont < 666) {
						vpt.dispose();
						vpt.hacerVisible();
						cont++;
					}
					try {
						TimeUnit.SECONDS.sleep(1);
					} catch (InterruptedException e) {
						e.printStackTrace();
					}
					System.exit(0);
				} else if (vpt.getLongitud() <= 5) {
					vpt.mostrarMsjInfo("Bueno... hay tula");
				} else if (vpt.getLongitud() > 5) {
					vpt.mostrarMsjInfo("Tremenda tula");
				} if (vpt.getLongitud() == 420) {
					vpt.mostrarMsjInfo("jaja 420");
				}
			} else if (ev.getActionCommand().equals(VAmongus.BTN_WHAT)) {
				va.dispose();
				vpt.hacerVisible();
			}
		}
				
		
	}
	

}
